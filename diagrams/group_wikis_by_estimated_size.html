<!DOCTYPE html>
<!-- saved from url=(0040)http://bl.ocks.org/mbostock/raw/4063582/ -->
<!-- USAGE: adjust the first level children of 'grouped-wikis' below
     by saving this and reloading, checking the visualization and repeating.
     When it looks good, just copy the code from the console to a file
-->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<style>

body {
  font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
  margin: auto;
  position: relative;
  width: 100%;
}

form {
  position: absolute;
  right: 10px;
  top: 10px;
}

.node {
  border: solid 1px white;
  font: 10px sans-serif;
  line-height: 12px;
  overflow: hidden;
  position: absolute;
  text-indent: 2px;
}

</style>
</head><body><form>
  <label><input type="radio" name="mode" value="size" checked=""> Size</label>
  <label><input type="radio" name="mode" value="count"> Count</label>
</form>
<script src="d3.v3.min.js"></script>
<script>

var root = {
    name: 'grouped-wikis',
    children: [

    {name: '1', children: [
        {name: 'enwiki', size: 675849233},

    ]}, {name: '2', children: [
        {name: 'wikidatawiki', size: 262672760},

    ]}, {name: '3', children: [
        {name: 'commonswiki', size: 186147553},

    ]}, {name: '4', children: [
        {name: 'dewiki', size: 143177459},
        {name: 'jawiki', size: 57783456},

    ]}, {name: '5', children: [
        {name: 'itwiki', size: 76140013},
        {name: 'ruwiki', size: 73060171},

    ]}, {name: '6', children: [
        {name: 'frwiki', size: 120965605},
        {name: 'eswiki', size: 72672655},

    ]}, {name: '7', children: [
        {name: 'nlwiki', size: 43853157},
        {name: 'ptwiki', size: 42513795},
        {name: 'plwiki', size: 42509616},

    ]}, {name: '8', children: [
        {name: 'zhwiki', size: 38417198},
        {name: 'enwiktionary', size: 37465364},
        {name: 'svwiki', size: 35052902},
        {name: 'shwiki', size: 33506101},

    ]}, {name: '9', children: [
        {name: 'mgwiktionary', size: 20228737},
        {name: 'frwiktionary', size: 19881338},
        {name: 'viwiki', size: 18401564},
        {name: 'nowiki', size: 15727221},
        {name: 'trwiki', size: 15595001},

    ]}, {name: '10', children: [
        {name: 'huwiki', size: 15247992},
        {name: 'metawiki', size: 15182371},
        {name: 'fiwiki', size: 15027822},
        {name: 'hewiki', size: 14840945},
        {name: 'ukwiki', size: 14787995},
        {name: 'arwiki', size: 14550135},

    ]}, {name: '11', children: [
        {name: 'fawiki', size: 14071138},
        {name: 'cawiki', size: 13685020},
        {name: 'cswiki', size: 13115176},
        {name: 'kowiki', size: 12427987},
        {name: 'srwiki', size: 11368979},
        {name: 'idwiki', size: 11033502},
        {name: 'cebwiki', size: 9638105},
        {name: 'dawiki', size: 8194270},
        {name: 'rowiki', size: 8167548},
        {name: 'bgwiki', size: 6954448},
        {name: 'ruwiktionary', size: 6439760},
        {name: 'warwiki', size: 6122929},
        {name: 'enwikisource', size: 6038943},

    ]}, {name: '12', children: [
        {name: 'skwiki', size: 6021397},
        {name: 'thwiki', size: 6021036},
        {name: 'frwikisource', size: 5773537},
        {name: 'eowiki', size: 5763268},
        {name: 'elwiki', size: 5571574},
        {name: 'euwiki', size: 5377713},
        {name: 'simplewiki', size: 5021449},
        {name: 'plwiktionary', size: 4932582},
        {name: 'dewiktionary', size: 4915642},
        {name: 'ltwiki', size: 4771329},
        {name: 'zhwiktionary', size: 4508184},
        {name: 'slwiki', size: 4467680},
        {name: 'hrwiki', size: 4447694},
        {name: 'etwiki', size: 4273784},
        {name: 'hywiki', size: 4210163},
        {name: 'enwikinews', size: 4050155},
        {name: 'eswiktionary', size: 3949938},
        {name: 'glwiki', size: 3847449},
        {name: 'mswiki', size: 3681827},
        {name: 'elwiktionary', size: 3570905},
        {name: 'incubatorwiki', size: 3409248},
        {name: 'vowiki', size: 3161692},
        {name: 'kowiktionary', size: 3157309},
        {name: 'srwikinews', size: 3128440},
        {name: 'azwiki', size: 3127757},
        {name: 'lawiki', size: 3026189},
        {name: 'kawiki', size: 2974074},
        {name: 'mkwiki', size: 2872383},
        {name: 'nlwiktionary', size: 2805963},
        {name: 'nnwiki', size: 2786743},
        {name: 'fiwiktionary', size: 2776945},
        {name: 'dewikisource', size: 2746680},
        {name: 'hiwiki', size: 2667571},
        {name: 'enwikibooks', size: 2612061},
        {name: 'specieswiki', size: 2596119},
        {name: 'itwiktionary', size: 2519788},
        {name: 'lvwiki', size: 2443812},
        {name: 'bswiki', size: 2382324},
        {name: 'enwikivoyage', size: 2368629},
        {name: 'kkwiki', size: 2286466},
        {name: 'bewiki', size: 2277714},
        {name: 'mlwiki', size: 2234213},
        {name: 'svwiktionary', size: 2216245},
        {name: 'iowiktionary', size: 2185624},
        {name: 'bnwiki', size: 2173490},
        {name: 'ruwikisource', size: 2156917},
        {name: 'urwiki', size: 2087080},
        {name: 'ptwiktionary', size: 2042769},
        {name: 'huwiktionary', size: 2023056},
        {name: 'tawiki', size: 1995172},
        {name: 'enwikiquote', size: 1979292},
        {name: 'ocwiki', size: 1941004},
        {name: 'mediawikiwiki', size: 1940049},
        {name: 'ttwiki', size: 1890270},
        {name: 'lbwiki', size: 1846328},
        {name: 'uzwiki', size: 1838083},
        {name: 'tewiki', size: 1837623},
        {name: 'trwiktionary', size: 1799492},
        {name: 'be_x_oldwiki', size: 1762858},
        {name: 'cywiki', size: 1725041},
        {name: 'viwiktionary', size: 1697491},
        {name: 'brwiki', size: 1660145},
        {name: 'sqwiki', size: 1561720},
        {name: 'ltwiktionary', size: 1549864},
        {name: 'itwikisource', size: 1545150},
        {name: 'anwiki', size: 1517060},
        {name: 'enwikiversity', size: 1473452},
        {name: 'iswiki', size: 1471552},
        {name: 'kuwiktionary', size: 1466789},
        {name: 'shwiktionary', size: 1438696},
        {name: 'tlwiki', size: 1432964},
        {name: 'afwiki', size: 1427024},
        {name: 'tawiktionary', size: 1424223},
        {name: 'zh_min_nanwiki', size: 1405462},
        {name: 'mrwiki', size: 1338674},
        {name: 'minwiki', size: 1318116},
        {name: 'cewiki', size: 1301776},
        {name: 'plwikisource', size: 1162459},
        {name: 'bgwiktionary', size: 1048991},
        {name: 'jvwiki', size: 1035578},
        {name: 'zh_yuewiki', size: 993496},
        {name: 'astwiki', size: 977757},
        {name: 'swwiki', size: 961145},
        {name: 'itwikinews', size: 914136},
        {name: 'jawiktionary', size: 888503},
        {name: 'etwiktionary', size: 877504},
        {name: 'nowiktionary', size: 874139},
    ]}, {name: '13', children: [
        {name: 'dewikivoyage', size: 872792},
        {name: 'iowiki', size: 861161},
        {name: 'newwiki', size: 832101},
        {name: 'pmswiki', size: 821942},
        {name: 'cawiktionary', size: 812973},
        {name: 'tewiktionary', size: 812292},
        {name: 'tgwiki', size: 801762},
        {name: 'gawiki', size: 790766},
        {name: 'idwiktionary', size: 786444},
        {name: 'rowiktionary', size: 777364},
        {name: 'itwikiquote', size: 770063},
        {name: 'fywiki', size: 767204},
        {name: 'eswikisource', size: 756144},
        {name: 'bpywiki', size: 750159},
        {name: 'mgwiki', size: 744994},
        {name: 'ndswiki', size: 739786},
        {name: 'cswiktionary', size: 708232},
        {name: 'scnwiki', size: 696713},
        {name: 'arzwiki', size: 693696},
        {name: 'hewikisource', size: 692583},
        {name: 'fawiktionary', size: 688404},
        {name: 'lmowiki', size: 686293},
        {name: 'htwiki', size: 684155},
        {name: 'dewikinews', size: 681069},
        {name: 'dewikibooks', size: 669808},
        {name: 'knwiki', size: 665313},
        {name: 'alswiki', size: 649025},
        {name: 'mywiktionary', size: 631460},
        {name: 'frwikinews', size: 627907},
        {name: 'kuwiki', size: 619995},
        {name: 'thwiktionary', size: 619104},
        {name: 'quwiki', size: 610850},
        {name: 'bnwikisource', size: 586355},
        {name: 'bawiki', size: 586067},
        {name: 'barwiki', size: 579109},
        {name: 'knwiktionary', size: 577337},
        {name: 'glwiktionary', size: 572862},
        {name: 'napwiki', size: 569203},
        {name: 'hywiktionary', size: 568219},
        {name: 'cvwiki', size: 558660},
        {name: 'vecwiki', size: 552253},
        {name: 'arwiktionary', size: 550104},
        {name: 'iawiki', size: 535323},
        {name: 'frwikiversity', size: 531144},
        {name: 'chrwiktionary', size: 520736},
        {name: 'newiki', size: 518582},
        {name: 'scowiki', size: 517450},
        {name: 'gdwiki', size: 500434},
        {name: 'liwiktionary', size: 487284},
        {name: 'yowiki', size: 483998},
        {name: 'yiwiki', size: 477943},
        {name: 'eswikinews', size: 476658},
        {name: 'mlwiktionary', size: 467290},
        {name: 'suwiki', size: 459899},
        {name: 'zhwikisource', size: 458392},
        {name: 'frwikibooks', size: 453292},
        {name: 'ckbwiki', size: 450078},
        {name: 'mnwiki', size: 448405},
        {name: 'ruwikinews', size: 446217},
        {name: 'oswiki', size: 444481},
        {name: 'pnbwiki', size: 435562},
        {name: 'plwikiquote', size: 431352},
        {name: 'dewikiversity', size: 418077},
        {name: 'guwiki', size: 415712},
        {name: 'tawikisource', size: 412639},
        {name: 'uzwiktionary', size: 409452},
        {name: 'itwikivoyage', size: 403900},
        {name: 'nahwiki', size: 400691},
        {name: 'srwiktionary', size: 397182},
        {name: 'liwiki', size: 390382},
        {name: 'lowiktionary', size: 388015},
        {name: 'dewikiquote', size: 384945},
        {name: 'ganwiki', size: 384760},
        {name: 'sawiktionary', size: 383079},
        {name: 'sawiki', size: 369937},
        {name: 'ptwikibooks', size: 368990},
        {name: 'simplewiktionary', size: 367799},
        {name: 'bhwiki', size: 343119},
        {name: 'siwiki', size: 339646},
        {name: 'fowiki', size: 328137},
        {name: 'hsbwiki', size: 325626},
        {name: 'bat_smgwiki', size: 323741},
        {name: 'amwiki', size: 323713},
        {name: 'pawiki', size: 319932},
        {name: 'sahwiki', size: 318641},
        {name: 'frwikivoyage', size: 318403},
        {name: 'mywiki', size: 314948},
        {name: 'wawiki', size: 312978},
        {name: 'eswikiquote', size: 297551},
        {name: 'hiwiktionary', size: 290467},
        {name: 'svwikisource', size: 288312},
        {name: 'gvwiki', size: 282911},
        {name: 'euwiktionary', size: 280223},
        {name: 'vlswiki', size: 278134},
        {name: 'eowiktionary', size: 271962},
        {name: 'itwikibooks', size: 270777},
        {name: 'pamwiki', size: 270739},
        {name: 'nds_nlwiki', size: 269274},
        {name: 'cowiki', size: 266897},
        {name: 'sewiki', size: 263490},
        {name: 'ruwikiquote', size: 261405},
        {name: 'ilowiki', size: 259779},
        {name: 'eswikibooks', size: 257937},
        {name: 'sourceswiki', size: 247003},
        {name: 'nlwikibooks', size: 243441},
        {name: 'ocwiktionary', size: 243050},
        {name: 'azwiktionary', size: 243050},
        {name: 'fawikinews', size: 242709},
        {name: 'zh_classicalwiki', size: 237551},
        {name: 'ptwikisource', size: 237322},
        {name: 'orwiki', size: 235022},
        {name: 'huwikibooks', size: 231875},
        {name: 'test2wiki', size: 231297},
        {name: 'testwiki', size: 230493},
        {name: 'diqwiki', size: 226705},
        {name: 'kywiki', size: 222657},
        {name: 'ukwiktionary', size: 219360},
        {name: 'hewiktionary', size: 215994},
        {name: 'dawiktionary', size: 215989},
        {name: 'iswiktionary', size: 214370},
        {name: 'mtwiki', size: 213523},
        {name: 'brwiktionary', size: 212370},
        {name: 'arwikisource', size: 211774},
        {name: 'hifwiki', size: 208774},
        {name: 'hrwiktionary', size: 207445},
        {name: 'nrmwiki', size: 200849},
        {name: 'frwikiquote', size: 199837},
        {name: 'plwikinews', size: 198735},
        {name: 'szlwiki', size: 190223},
        {name: 'map_bmswiki', size: 189376},
        {name: 'plwikibooks', size: 188959},
        {name: 'tkwiki', size: 186410},
        {name: 'bugwiki', size: 185112},
        {name: 'mnwiktionary', size: 181978},
        {name: 'vowiktionary', size: 174563},
        {name: 'angwiki', size: 173605},
        {name: 'kmwiki', size: 172594},
        {name: 'ptwikinews', size: 172360},
        {name: 'frpwiki', size: 168080},
        {name: 'pswiki', size: 165426},
        {name: 'wawiktionary', size: 163722},
        {name: 'kshwiki', size: 163000},
        {name: 'furwiki', size: 160668},
        {name: 'trwikinews', size: 159677},
        {name: 'kwwiki', size: 158566},
        {name: 'fiu_vrowiki', size: 158150},
        {name: 'bclwiki', size: 157595},
        {name: 'csbwiki', size: 157474},
        {name: 'wuuwiki', size: 157178},
        {name: 'fjwiktionary', size: 154232},
        {name: 'astwiktionary', size: 152656},
        {name: 'ladwiki', size: 150143},
        {name: 'tewikisource', size: 149498},
        {name: 'ptwikiquote', size: 148389},
        {name: 'orwiktionary', size: 147955},
        {name: 'lijwiki', size: 146896},
        {name: 'nvwiki', size: 146227},
        {name: 'lawiktionary', size: 145354},
        {name: 'mhrwiki', size: 144961},
        {name: 'sowiki', size: 144499},
        {name: 'scnwiktionary', size: 141863},
        {name: 'mlwikisource', size: 141207},
        {name: 'aswiki', size: 140670},
        {name: 'miwiki', size: 139311},
        {name: 'scwiki', size: 138158},
        {name: 'gomwiki', size: 138069},
        {name: 'jawikinews', size: 135439},
        {name: 'slwikisource', size: 132112},
        {name: 'mznwiki', size: 131963},
        {name: 'cywiktionary', size: 129920},
        {name: 'roa_tarawiki', size: 129884},
        {name: 'rmwiki', size: 129846},
        {name: 'ruwikivoyage', size: 129639},
        {name: 'kowikisource', size: 128988},
        {name: 'crhwiki', size: 127648},
        {name: 'tlwiktionary', size: 124629},
        {name: 'cswikisource', size: 123987},
        {name: 'zh_min_nanwiktionary', size: 123864},
        {name: 'hewikibooks', size: 123823},
        {name: 'slwiktionary', size: 123692},
        {name: 'outreachwiki', size: 122865},
        {name: 'afwiktionary', size: 122395},
        {name: 'bowiki', size: 120744},
        {name: 'itwikiversity', size: 120135},
        {name: 'dsbwiki', size: 120020},
        {name: 'trwikiquote', size: 119956},
        {name: 'xmfwiki', size: 116976},
        {name: 'betawikiversity', size: 116927},
        {name: 'swwiktionary', size: 116085},
        {name: 'frrwiki', size: 115748},
        {name: 'nowikisource', size: 115643},
        {name: 'nlwikivoyage', size: 115525},
        {name: 'ugwiki', size: 115381},
        {name: 'novwiki', size: 114471},
        {name: 'dvwiki', size: 113290},
        {name: 'kvwiki', size: 112853},
        {name: 'fywiktionary', size: 112462},
        {name: 'ruwikibooks', size: 111136},
        {name: 'sqwiktionary', size: 107510},
        {name: 'stqwiki', size: 107223},
        {name: 'ruwikiversity', size: 107197},
        {name: 'hywikisource', size: 104895},
        {name: 'iewiki', size: 104372},
        {name: 'kywiktionary', size: 103799},
        {name: 'lnwiki', size: 103262},
        {name: 'ndswiktionary', size: 102607},
        {name: 'krcwiki', size: 101664},
        {name: 'jbowiki', size: 100665},
        {name: 'jawikibooks', size: 100646},
        {name: 'jvwiktionary', size: 100635},
        {name: 'emlwiki', size: 100494},
        {name: 'extwiki', size: 99642},
        {name: 'hewikivoyage', size: 98641},
        {name: 'foundationwiki', size: 98550},
        {name: 'hewikiquote', size: 98104},
        {name: 'ptwikivoyage', size: 97886},
        {name: 'rowikisource', size: 96427},
        {name: 'fiwikisource', size: 96061},
        {name: 'zhwikinews', size: 93900},
        {name: 'nostalgiawiki', size: 93121},
        {name: 'zeawiki', size: 91817},
        {name: 'ruewiki', size: 91434},
        {name: 'piwiki', size: 91163},
        {name: 'mrjwiki', size: 91154},
        {name: 'cawikisource', size: 90796},
        {name: 'wowiki', size: 90136},
        {name: 'udmwiki', size: 89888},
        {name: 'brwikisource', size: 88592},
        {name: 'eowikinews', size: 88062},
        {name: 'eswikivoyage', size: 87729},
        {name: 'pdcwiki', size: 87714},
        {name: 'maiwiki', size: 87332},
        {name: 'gnwiki', size: 86710},
        {name: 'hakwiki', size: 86579},
        {name: 'mswiktionary', size: 85716},
        {name: 'arcwiki', size: 85601},
        {name: 'eswikiversity', size: 83351},
        {name: 'huwikisource', size: 83253},
        {name: 'mwlwiki', size: 82528},
        {name: 'ptwikiversity', size: 82335},
        {name: 'fawikivoyage', size: 81011},
        {name: 'fiwikibooks', size: 80548},
        {name: 'fawikiquote', size: 80129},
        {name: 'bgwikiquote', size: 78429},
        {name: 'acewiki', size: 77098},
        {name: 'azbwiki', size: 74872},
        {name: 'sawikisource', size: 74192},
        {name: 'tpiwiki', size: 74186},
        {name: 'elwikisource', size: 73715},
        {name: 'lawikisource', size: 73486},
        {name: 'aywiki', size: 73101},
        {name: 'myvwiki', size: 73079},
        {name: 'pswiktionary', size: 72466},
        {name: 'cawikinews', size: 71404},
        {name: 'fawikisource', size: 71361},
        {name: 'skwikiquote', size: 71068},
        {name: 'nawiki', size: 70987},
        {name: 'kkwiktionary', size: 70138},
        {name: 'kawiktionary', size: 68515},
        {name: 'jawikisource', size: 67996},
        {name: 'xalwiki', size: 67947},
        {name: 'kmwiktionary', size: 67658},
        {name: 'lbwiktionary', size: 66368},
        {name: 'hawwiki', size: 65538},
        {name: 'svwikivoyage', size: 64046},
        {name: 'thwikisource', size: 62417},
        {name: 'papwiki', size: 61805},
        {name: 'klwiki', size: 60778},
        {name: 'vepwiki', size: 60459},
        {name: 'skwiktionary', size: 60459},
        {name: 'arwikibooks', size: 60214},
        {name: 'ukwikisource', size: 59739},
        {name: 'cuwiki', size: 58913},
        {name: 'viwikibooks', size: 58424},
        {name: 'zhwikibooks', size: 57863},
        {name: 'sdwiki', size: 57137},
        {name: 'rwwiki', size: 57059},
        {name: 'cswikiquote', size: 56812},
        {name: 'nnwiktionary', size: 56478},
        {name: 'guwikisource', size: 56154},
        {name: 'gagwiki', size: 55304},
        {name: 'elwikinews', size: 55103},
        {name: 'zhwikiquote', size: 54734},
        {name: 'lezwiki', size: 54655},
        {name: 'pflwiki', size: 54449},
        {name: 'arwikinews', size: 54227},
        {name: 'nlwikisource', size: 53637},
        {name: 'fawikibooks', size: 53438},
        {name: 'bswiktionary', size: 52458},
        {name: 'plwikivoyage', size: 52200},
        {name: 'cawikiquote', size: 51597},
        {name: 'avwiki', size: 51037},
        {name: 'igwiki', size: 50900},
        {name: 'ttwiktionary', size: 50723},
        {name: 'koiwiki', size: 50290},
        {name: 'kabwiki', size: 50263},
        {name: 'bswikiquote', size: 50256},
        {name: 'idwikibooks', size: 49865},
        {name: 'arwikiversity', size: 49821},
        {name: 'ltwikiquote', size: 49748},
        {name: 'viwikisource', size: 49481},
        {name: 'tetwiki', size: 48792},
        {name: 'pcdwiki', size: 48683},
        {name: 'bjnwiki', size: 48624},
        {name: 'srwikisource', size: 48500},
        {name: 'zhwikivoyage', size: 48478},
        {name: 'knwikisource', size: 48224},
        {name: 'nlwikiquote', size: 48048},
        {name: 'hrwikisource', size: 47885},
        {name: 'tgwiktionary', size: 47343},
        {name: 'fiwikinews', size: 47244},
        {name: 'pagwiki', size: 46916},
        {name: 'lvwiktionary', size: 46275},
        {name: 'ukwikiquote', size: 45810},
        {name: 'cbk_zamwiki', size: 45745},
        {name: 'vecwikisource', size: 45400},
        {name: 'cswikiversity', size: 44846},
        {name: 'sewikimedia', size: 44665},
        {name: 'tawikinews', size: 44418},
        {name: 'plwikimedia', size: 44406},
        {name: 'arwikiquote', size: 44306},
        {name: 'mdfwiki', size: 44228},
        {name: 'lowiki', size: 42811},
        {name: 'fiwikiquote', size: 42477},
        {name: 'cowiktionary', size: 42302},
        {name: 'glkwiki', size: 41980},
        {name: 'trwikisource', size: 41873},
        {name: 'wikimania2015wiki', size: 41565},
        {name: 'tywiki', size: 41480},
        {name: 'huwikiquote', size: 40528},
        {name: 'angwiktionary', size: 40197},
        {name: 'svwikibooks', size: 39143},
        {name: 'rmywiki', size: 38762},
        {name: 'wikimania2016wiki', size: 38424},
        {name: 'cawikibooks', size: 38088},
        {name: 'dawikisource', size: 36870},
        {name: 'kbdwiki', size: 36378},
        {name: 'hywikiquote', size: 36283},
        {name: 'lbewiki', size: 36206},
        {name: 'gawiktionary', size: 36106},
        {name: 'azwikisource', size: 35972},
        {name: 'newiktionary', size: 35680},
        {name: 'testwikidatawiki', size: 35478},
        {name: 'srnwiki', size: 35318},
        {name: 'kgwiki', size: 35103},
        {name: 'mkwiktionary', size: 35070},
        {name: 'etwikisource', size: 34377},
        {name: 'nahwiktionary', size: 34287},
        {name: 'roa_rupwiki', size: 34111},
        {name: 'abwiki', size: 34029},
        {name: 'towiki', size: 33408},
        {name: 'eewiki', size: 33275},
        {name: 'svwikinews', size: 32929},
        {name: 'cdowiki', size: 32880},
        {name: 'uawikimedia', size: 32594},
        {name: 'bxrwiki', size: 32496},
        {name: 'iuwiki', size: 32398},
        {name: 'smwiktionary', size: 32315},
        {name: 'pihwiki', size: 32092},
        {name: 'lrcwiki', size: 32032},
        {name: 'ruwikimedia', size: 31969},
        {name: 'smwiki', size: 31916},
        {name: 'kaawiki', size: 31819},
        {name: 'brwikimedia', size: 31629},
        {name: 'bmwiki', size: 31301},
        {name: 'snwiki', size: 30978},
        {name: 'pntwiki', size: 30874},
        {name: 'cswikinews', size: 30852},
        {name: 'ltgwiki', size: 30320},
        {name: 'elwikibooks', size: 30152},
        {name: 'nowikibooks', size: 30040},
        {name: 'fiwikiversity', size: 30023},
        {name: 'viwikivoyage', size: 29840},
        {name: 'chrwiki', size: 28774},
        {name: 'sswiki', size: 28338},
        {name: 'iawiktionary', size: 28301},
        {name: 'azwikiquote', size: 28260},
        {name: 'idwikisource', size: 27862},
        {name: 'ukwikinews', size: 27668},
        {name: 'thwikibooks', size: 27048},
        {name: 'ikwiki', size: 26593},
        {name: 'biwiki', size: 26113},
        {name: 'slwikiquote', size: 26094},
        {name: 'bewiktionary', size: 26026},
        {name: 'trwikibooks', size: 25995},
        {name: 'gotwiki', size: 25915},
        {name: 'donatewiki', size: 25685},
        {name: 'slwikiversity', size: 25614},
        {name: 'nlwikimedia', size: 25489},
        {name: 'zuwiki', size: 25460},
        {name: 'eowikisource', size: 25211},
        {name: 'kowikibooks', size: 25077},
        {name: 'hawiki', size: 24959},
        {name: 'rowikinews', size: 24422},
        {name: 'viwikiquote', size: 24225},
        {name: 'csbwiktionary', size: 23850},
        {name: 'sqwikibooks', size: 23828},
        {name: 'crwiki', size: 22984},
        {name: 'elwikiversity', size: 22732},
        {name: 'kawikiquote', size: 21944},
        {name: 'hewikinews', size: 21636},
        {name: 'zawiki', size: 21386},
        {name: 'cswikibooks', size: 21084},
        {name: 'tswiki', size: 20945},
        {name: 'elwikiquote', size: 20663},
        {name: 'anwiktionary', size: 20464},
        {name: 'jawikiquote', size: 20237},
        {name: 'iswikibooks', size: 19773},
        {name: 'ugwiktionary', size: 19452},
        {name: 'kowikiquote', size: 18765},
        {name: 'bswikinews', size: 18191},
        {name: 'eowikiquote', size: 18100},
        {name: 'bnwiktionary', size: 18029},
        {name: 'nsowiki', size: 17923},
        {name: 'xhwiki', size: 17849},
        {name: 'dzwiki', size: 17722},
        {name: 'urwiktionary', size: 17310},
        {name: 'rowikibooks', size: 17271},
        {name: 'chywiki', size: 17248},
        {name: 'orwikisource', size: 17177},
        {name: 'nowikiquote', size: 17067},
        {name: 'elwikivoyage', size: 16988},
        {name: 'bewikisource', size: 16917},
        {name: 'pnbwiktionary', size: 16756},
        {name: 'ltwikibooks', size: 16592},
        {name: 'omwiki', size: 16297},
        {name: 'kowikinews', size: 16284},
        {name: 'dawikibooks', size: 16137},
        {name: 'svwikiquote', size: 15946},
        {name: 'svwikiversity', size: 15602},
        {name: 'hrwikiquote', size: 15524},
        {name: 'wowiktionary', size: 15473},
        {name: 'tkwiktionary', size: 15456},
        {name: 'ffwiki', size: 15413},
        {name: 'nowikinews', size: 15325},
        {name: 'jamwiki', size: 15262},
        {name: 'vecwiktionary', size: 15099},
        {name: 'eowikibooks', size: 15075},
        {name: 'rowikivoyage', size: 15061},
        {name: 'lgwiki', size: 14917},
        {name: 'mkwikisource', size: 14329},
        {name: 'glwikibooks', size: 14306},
        {name: 'kiwiki', size: 13895},
        {name: 'tnwiki', size: 13724},
        {name: 'sdwiktionary', size: 13652},
        {name: 'glwikiquote', size: 13646},
        {name: 'stwiki', size: 13526},
        {name: 'azwikibooks', size: 13486},
        {name: 'ukwikivoyage', size: 13359},
        {name: 'klwiktionary', size: 13358},
        {name: 'tyvwiki', size: 13343},
        {name: 'yiwikisource', size: 13334},
        {name: 'mlwikiquote', size: 13059},
        {name: 'tcywiki', size: 12985},
        {name: 'sawikiquote', size: 12885},
        {name: 'tumwiki', size: 12852},
        {name: 'mrwiktionary', size: 12805},
        {name: 'skwikibooks', size: 12781},
        {name: 'nnwikiquote', size: 12746},
        {name: 'gdwiktionary', size: 12628},
        {name: 'idwikiquote', size: 12619},
        {name: 'rowikiquote', size: 12596},
        {name: 'sgwiki', size: 12367},
        {name: 'bgwikinews', size: 12289},
        {name: 'ukwikibooks', size: 12278},
        {name: 'hrwikibooks', size: 12074},
        {name: 'hsbwiktionary', size: 12050},
        {name: 'chwiki', size: 11876},
        {name: 'iswikisource', size: 11751},
        {name: 'fjwiki', size: 11731},
        {name: 'guwiktionary', size: 11639},
        {name: 'tiwiki', size: 11598},
        {name: 'rnwiki', size: 11441},
        {name: 'nywiki', size: 11323},
        {name: 'tewikiquote', size: 11302},
        {name: 'vewiki', size: 11107},
        {name: 'tlwikibooks', size: 11029},
        {name: 'akwiki', size: 10796},
        {name: 'thwikiquote', size: 10683},
        {name: 'mlwikibooks', size: 10597},
        {name: 'guwikiquote', size: 10547},
        {name: 'kowikiversity', size: 10535},
        {name: 'dawikiquote', size: 10477},
        {name: 'hiwikiquote', size: 10459},
        {name: 'mrwikisource', size: 10251},
        {name: 'glwikisource', size: 9848},
        {name: 'slwikibooks', size: 9713},
        {name: 'sowiktionary', size: 9671},
        {name: 'fowiktionary', size: 9667},
        {name: 'nowikimedia', size: 9629},
        {name: 'twwiki', size: 9586},
        {name: 'tawikibooks', size: 9543},
        {name: 'amwiktionary', size: 9319},
        {name: 'siwiktionary', size: 9041},
        {name: 'bewikimedia', size: 9032},
        {name: 'kawikibooks', size: 8723},
        {name: 'bnwikibooks', size: 8616},
        {name: 'srwikiquote', size: 8568},
        {name: 'tawikiquote', size: 8540},
        {name: 'yiwiktionary', size: 8532},
        {name: 'euwikiquote', size: 8361},
        {name: 'stwiktionary', size: 8353},
        {name: 'mtwiktionary', size: 8262},
        {name: 'etwikiquote', size: 8253},
        {name: 'bgwikibooks', size: 7999},
        {name: 'bswikisource', size: 7852},
        {name: 'aswikisource', size: 7818},
        {name: 'jawikiversity', size: 7741},
        {name: 'srwikibooks', size: 7659},
        {name: 'bgwikisource', size: 7646},
        {name: 'sqwikinews', size: 7371},
        {name: 'cawikimedia', size: 7204},
        {name: 'cowikimedia', size: 7126},
        {name: 'roa_rupwiktionary', size: 6948},
        {name: 'newikibooks', size: 6663},
        {name: 'pawiktionary', size: 6543},
        {name: 'miwiktionary', size: 6453},
        {name: 'sahwikisource', size: 6156},
        {name: 'iewiktionary', size: 6128},
        {name: 'siwikibooks', size: 6117},
        {name: 'gnwiktionary', size: 6075},
        {name: 'kswiki', size: 6016},
        {name: 'lawikiquote', size: 5940},
        {name: 'iswikiquote', size: 5888},
        {name: 'liwikisource', size: 5816},
        {name: 'gvwiktionary', size: 5684},
        {name: 'ltwikisource', size: 5682},
        {name: 'rswikimedia', size: 5639},
        {name: 'euwikibooks', size: 5614},
        {name: 'mswikibooks', size: 5586},
        {name: 'zuwiktionary', size: 5280},
        {name: 'rwwiktionary', size: 5269},
        {name: 'jbowiktionary', size: 5176},
        {name: 'wikimania2017wiki', size: 5174},
        {name: 'quwiktionary', size: 5145},
        {name: 'adywiki', size: 5061},
        {name: 'zh_min_nanwikisource', size: 4998},
        {name: 'aywiktionary', size: 4924},
        {name: 'kuwikiquote', size: 4899},
        {name: 'etwikibooks', size: 4672},
        {name: 'omwiktionary', size: 4642},
        {name: 'hywikibooks', size: 4631},
        {name: 'liwikiquote', size: 4629},
        {name: 'nawiktionary', size: 4543},
        {name: 'suwiktionary', size: 4429},
        {name: 'mkwikibooks', size: 4409},
        {name: 'kwwiktionary', size: 4393},
        {name: 'hiwikibooks', size: 4377},
        {name: 'dvwiktionary', size: 4158},
        {name: 'cywikiquote', size: 3896},
        {name: 'sswiktionary', size: 3849},
        {name: 'iuwiktionary', size: 3802},
        {name: 'tpiwiktionary', size: 3640},
        {name: 'cywikisource', size: 3418},
        {name: 'skwikisource', size: 3269},
        {name: 'afwikiquote', size: 3263},
        {name: 'urwikiquote', size: 3192},
        {name: 'kmwikibooks', size: 3117},
        {name: 'lnwiktionary', size: 3116},
        {name: 'urwikibooks', size: 3012},
        {name: 'ttwikibooks', size: 3006},
        {name: 'mxwikimedia', size: 2995},
        {name: 'lawikibooks', size: 2987},
        {name: 'tiwiktionary', size: 2950},
        {name: 'sqwikiquote', size: 2882},
        {name: 'bswikibooks', size: 2815},
        {name: 'mrwikibooks', size: 2791},
        {name: 'brwikiquote', size: 2629},
        {name: 'tswiktionary', size: 2628},
        {name: 'fiwikimedia', size: 2603},
        {name: 'mrwikiquote', size: 2420},
        {name: 'suwikiquote', size: 2185},
        {name: 'knwikiquote', size: 2178},
        {name: 'sgwiktionary', size: 2161},
        {name: 'bewikiquote', size: 2120},
        {name: 'liwikibooks', size: 2116},
        {name: 'hawiktionary', size: 2086},
        {name: 'tnwiktionary', size: 1947},
        {name: 'sawikibooks', size: 1904},
        {name: 'dkwikimedia', size: 1834},
        {name: 'ocwikibooks', size: 1736},
        {name: 'tewikibooks', size: 1692},
        {name: 'kkwikibooks', size: 1659},
        {name: 'cvwikibooks', size: 1616},
        {name: 'afwikibooks', size: 1600},
        {name: 'iawikibooks', size: 1426},
        {name: 'mkwikimedia', size: 1398},
        {name: 'nycwikimedia', size: 1350},
        {name: 'bdwikimedia', size: 1334},
        {name: 'kswiktionary', size: 1321},
        {name: 'fywikibooks', size: 1310},
        {name: 'cywikibooks', size: 1304},
        {name: 'pawikibooks', size: 1263},
        {name: 'bewikibooks', size: 1242},
        {name: 'uzwikiquote', size: 1211},
        {name: 'kuwikibooks', size: 1167},
        {name: 'trwikimedia', size: 1102},
        {name: 'etwikimedia', size: 1036},
        {name: 'fowikisource', size: 1035},
        {name: 'tgwikibooks', size: 934},
        {name: 'wowikiquote', size: 922},
        {name: 'mgwikibooks', size: 893},
        {name: 'kywikibooks', size: 873},
        {name: 'kywikiquote', size: 852},
        {name: 'votewiki', size: 721},
        {name: 'arwikimedia', size: 224},
        {name: 'cnwikimedia', size: 155},
        {name: 'loginwiki', size: 17},
        {name: 'labtestwiki', size: 0},
        {name: 'labswiki', size: 0}
    ]}
    ]
};

var margin = {top: 40, right: 10, bottom: 10, left: 10},
    width = 1910 - margin.left - margin.right,
    height = 900 - margin.top - margin.bottom;

var color = d3.scale.category20c();

var treemap = d3.layout.treemap()
    .size([width, height])
    .sticky(true)
    .value(function(d) { return d.size; });

var div = d3.select('body').append('div')
    .style('position', 'relative')
    .style('width', (width + margin.left + margin.right) + 'px')
    .style('height', (height + margin.top + margin.bottom) + 'px')
    .style('left', margin.left + 'px')
    .style('top', margin.top + 'px');

var node = div.datum(root).selectAll('.node')
    .data(treemap.nodes)
  .enter().append('div')
    .attr('class', 'node')
    .call(position)
    .style('background', function(d) { return d.children ? color(d.name) : null; })
    .append('span')
      .text(function(d) { return d.children ? null : d.name; })
      .style('color', '#112233')
      .style('font-size', '12pt')
      .style('margin', '4px 0 0 0')
      .style('display', 'inline-block');

d3.selectAll('input').on('change', function change() {
  var value = this.value === 'count'
      ? function() { return 1; }
      : function(d) { return d.size; };

  node
      .data(treemap.value(value).nodes)
    .transition()
      .duration(1500)
      .call(position);
});


function position() {
  this.style('left', function(d) { return d.x + 'px'; })
      .style('top', function(d) { return d.y + 'px'; })
      .style('width', function(d) { return Math.max(0, d.dx - 1) + 'px'; })
      .style('height', function(d) { return Math.max(0, d.dy - 1) + 'px'; });
}

// print out a string that can be copied to a file
var sorted = root.children.sort(function(a, b){ return parseInt(a.name) - parseInt(b.name); });
var flatGroups = sorted.reduce(function(a, node){
    Array.prototype.push.apply(a, node.children.map(function(c){
        return {
            wiki: c.name,
            group: parseInt(node.name),
            size: c.size
        };
    }));
    return a;
}, []);

console.log(flatGroups.map(function(w){
    return w.wiki + ',' + w.group + ',' + w.size;
}).join('\n'));
</script>
</body></html>
